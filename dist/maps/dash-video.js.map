{"version":3,"sources":["../bower_components/ee-class/dist/ee-class.min.js","dash-video.js"],"names":["e","t","define","amd","module","exports","ee","Class","this","r","n","o","___super","arguments","length","push","apply","Error","local","Object","defineProperty","value","prototype","hasOwnProperty","call","___isEeClass","constructor","getPrototypeOf","inherits","___properties","keys","forEach","enumerable","displayName","toString","some","indexOf","writable","Symbol","iterator","i","init","create","Enumerable","Configurable","Writable","proto","implement","inspect","getOwnPropertyNames","sort","requirejs","Player","HTMLElement","isCrapple","ready","playing","get","video","paused","crapplePlayer","createdCallback","jsSources","loadedSources","test","navigator","userAgent","window","MSStream","sRoot","createShadowRoot","createRoot","prepareSources","hasAttribute","createControls","createPoster","dashSource","args","l","createCrapplePlayer","createPlayer","console","log","stack","loaded","bind","play","pause","Stream","stream","crappleSource","useWorkers","webgl","render","loop","size","width","root","offsetWidth","height","offsetHeight","crappleVideo","canvas","setAttribute","appendChild","onStatisticsUpdated","s","shaka","document","createElement","getAttribute","polyfill","installAll","player","isBrowserSupported","isTypeSupported","dashPlayer","shakaEstimator","util","EWMABandwidthEstimator","load","DashVideoSource","then","err","source","type","sourceElement","src","Array","children","childElement","media","matchMedia","matches","addEventListener","style","elementHeight","elementWidth","registerElement"],"mappings":"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H,IACAI,MAAA,KACAN,KAAAK,EAAAL,QAIAxC,KAAA7E,QAiBAkE,eAAA,aAsBAC,aAAA,aAoBAJ,WAAA,WACA/D,KAAAyF,KAAAW,SAAAC,cAAA,OAEArG,KAAAyF,KAAAqC,iBAAA,QAAA,WACA9H,KAAAgD,QAAAhD,KAAA+E,QACA/E,KAAA8E,QACAD,KAAA7E,OAGAA,KAAAyF,KAAAM,aAAA,QAAA/F,KAAAsG,aAAA,UAGAtG,KAAAiE,aAAA,WAAAjE,KAAAyF,KAAAsC,MAAAvC,MAAAxF,KAAAsG,aAAA,UACAtG,KAAAiE,aAAA,YAAAjE,KAAAyF,KAAAsC,MAAApC,OAAA3F,KAAAsG,aAAA,WAGAtG,KAAA6D,MAAAmC,YAAAhG,KAAAyF,MAGAzF,KAAAgI,cAAAhI,KAAAyF,KAAAG,aACA5F,KAAAiI,aAAAjI,KAAAyF,KAAAC,aAgBAhB,IAAA,WAGA,IAAA,GAFAL,IAAA,gBAEArC,EAAA,EAAAsC,EAAAjE,UAAAC,OAAAgE,EAAAtC,EAAAA,IAAAqC,EAAA9D,KAAAF,UAAA2B,GAEAyC,SAAAC,IAAAlE,MAAAiE,QAAAJ,MAUA+B,SAAA8B,gBAAA,cACApH,UAAA,GAAA8B,UAKAlD,OAAA,gBAAA;AD9ZA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dash-video.js","sourcesContent":["!function(e,t){\"use strict\";\"function\"==typeof define&&define.amd?define('../bower_components/ee-class/dist/ee-class.min',[],t):\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=t():(\"object\"!=typeof e.ee&&(e.ee={}),e.ee.Class=t())}(this,function(){\"use strict\";var e,t,r;return e=function(e,r,n,o){r[\"super\"]=function(){var t,n,o;if(r.___super){for(t=[],n=0,o=arguments.length;o>n;n++)t.push(arguments[n]);return r.___super.apply(this,t)}throw new Error(\"The method «\"+e+\"» has no super «\"+e+\"» method on any protoype!\")},r.local||Object.defineProperty(r,\"local\",{value:o}),n&&n.prototype&&t(e,r,n.prototype,o)},t=function(e,r,n,o){r.local||Object.defineProperty(r,\"local\",{value:o}),n&&(Object.hasOwnProperty.call(n,e)?Object.defineProperty(r,\"___super\",{value:n[e]}):n.___isEeClass||\"init\"!==e||\"object\"!=typeof n||\"function\"!=typeof n.constructor?t(e,r,\"object\"==typeof n?Object.getPrototypeOf(n):null,o):Object.defineProperty(r,\"___super\",{value:n.constructor}))},r=function(t){var n,o={};return this instanceof r?(t.inherits&&t.inherits.___properties&&(o=t.inherits.___properties),Object.keys(t).forEach(function(r){var n=t[r];\"inherits\"!==r&&(\"function\"==typeof n?(o[r]={value:n,enumerable:\"_\"!==r[0]},o[r].value.displayName||Object.defineProperty(o[r].value,\"displayName\",{value:r}),e(r,n,t.inherits,t)):\"object\"==typeof n&&\"[object Object]\"===Object.prototype.toString.call(n)?Object.hasOwnProperty.call(n,\"get\")||Object.hasOwnProperty.call(n,\"value\")||Object.hasOwnProperty.call(n,\"set\")?Object.keys(n).some(function(e){return-1===[\"get\",\"set\",\"value\",\"enumerable\",\"writable\",\"configurable\"].indexOf(e)})?o[r]=o[r]={value:n,enumerable:!0,writable:!0}:(o[r]=n,\"function\"==typeof n.value&&(e(r,n.value,t.inherits,t),n.value.displayName||Object.defineProperty(n.value,\"displayName\",{value:r}))):o[r]=o[r]={value:n,enumerable:!0,writable:!0}:o[r]={value:n,enumerable:!0,writable:!0})}),\"function\"==typeof Symbol&&Symbol.iterator in t&&(o[Symbol.iterator]={value:t[Symbol.iterator],writable:!0}),n=function(){var e,r,o,i=[];if(!(this instanceof n))throw new Error(\"the class constructor was called without the «new» keyword!\");for(r=0,o=arguments.length;o>r;r++)i.push(arguments[r]);return this.init?e=this.init.apply(this,i):\"function\"==typeof t.inherits&&t.inherits.apply(this,i),\"undefined\"!=typeof e?e:void 0},n.prototype=Object.create(t.inherits?t.inherits.prototype?t.inherits.prototype:t.inherits:{},o),Object.defineProperty(n.prototype,\"___isEeClass\",{value:!0}),n):Object.create(r,{value:{value:t,enumerable:!0}})},r.Enumerable=function(){return Object.defineProperty(this,\"enumerable\",{value:!0,enumerable:!0}),this},r.Configurable=function(){return Object.defineProperty(this,\"configurable\",{value:!0,enumerable:!0}),this},r.Writable=function(){return Object.defineProperty(this,\"writable\",{value:!0,enumerable:!0}),this},r.proto=function(e){return\"object\"==typeof e?Object.getPrototypeOf(e):void 0},r.keys=function(e){var t=[];for(var r in e)t.push(r);return t},r.define=function(e,t,r){Object.defineProperty(e,t,r)},r.implement=function(e,t){return r.keys(e).forEach(function(r){t[r]=e[r]}),t},r.inspect=function(e,t){return t=t||{},Object.getOwnPropertyNames(e).sort().forEach(function(r){\"function\"==typeof e[r]?t[r]=function(){}:\"___isEeClass\"!==r&&(t[r]=e[r])}),Object.getPrototypeOf(e)&&(t[\"super\"]={},r.inspect(Object.getPrototypeOf(e),t[\"super\"])),t},r});\n//# sourceMappingURL=maps/ee-class.min.js.map\n;\n","(function() {\n    'use strict';\n\n\n    // load dependencies required by the player\n    requirejs(['../bower_components/ee-class/dist/ee-class.min'], function(Class) {\n        var Player;\n\n\n\n        Player = new Class({\n            inherits: HTMLElement.prototype\n\n\n            // flags if the coponent is running on top of ios\n            , isCrapple: false\n            \n            // ready for playback?\n            , ready: false\n\n            // playing flag\n            , playing: {\n                get: function() {\n                    if (this.video) return !this.video.paused;\n                    else if (this.crapplePlayer) return this.crapplePlayer.playing;\n                    else return false;\n                }\n            }\n\n\n\n\n\n\n\n            /**\n             * let set up the player\n             */\n            , createdCallback: function() {\n                var jsSources = [];\n\n\n                // much needed storage for the\n                // sources\n                this.loadedSources = [];\n\n\n                // need to know if we're on ios\n                this.isCrapple = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\n                // create shadow dom\n                this.sRoot = this.createShadowRoot();\n\n\n                // create ui root element\n                this.createRoot();\n\n\n\n\n                // check sources\n                this.prepareSources();\n\n\n\n                // add controls\n                if (this.hasAttribute('controls')) this.createControls();\n\n\n                // add poster\n                if (this.hasAttribute('poster')) this.createPoster();\n\n\n\n                // add h263 decoder\n                if (this.isCrapple) {\n                    jsSources.push('../lib/CrapplePlayer.js');\n                    jsSources.push('../lib/Stream.js');\n                }\n\n\n                // load dash files if required\n                if (this.dashSource) jsSources.push('../lib/shaka-player.compiled.js');\n\n\n                requirejs(jsSources, function() { \n                    var args = [];\n                    for (var i = 0, l = arguments.length; i < l; i++) args.push(arguments[i]);\n\n                    try {\n                        if (this.isCrapple) this.createCrapplePlayer.apply(this, args);\n                        else this.createPlayer.apply(this, args);\n                    } catch (e) {\n                        console.log(e, e.stack);\n                    }\n\n                    // player is ready to be used\n                    this.loaded = true;\n                }.bind(this));\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n\n            , play: function() {\n                if (this.video) this.video.play();\n                else if (this.crapplePlayer) this.crapplePlayer.play();\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n            , pause: function() {\n                if (this.video) this.video.pause();\n                else if (this.crapplePlayer) this.crapplePlayer.pause();\n            }\n\n\n\n\n\n\n\n\n\n            /**\n             * create crapple player\n             */\n            , createCrapplePlayer: function(Player, Stream) {\n                this.crapplePlayer = new Player({\n                      stream     : new Stream(this.crappleSource)\n                    , useWorkers : false\n                    , webgl      : 'auto'\n                    , render     : true\n                    , loop       : this.hasAttribute('loop')\n                    , size: {\n                          width  : this.root.offsetWidth\n                        , height : this.root.offsetHeight\n                    }\n                });\n\n\n                this.crappleVideo = this.crapplePlayer.canvas;\n                this.crappleVideo.setAttribute('width', this.root.offsetWidth);\n                this.crappleVideo.setAttribute('height', this.root.offsetHeight);\n                //this.crappleVideo.getContext('2d').scale(2, 2);\n\n                this.root.appendChild(this.crappleVideo);\n\n                this.crapplePlayer.onStatisticsUpdated = function(s) {\n                    //console.log(s);\n                };\n    \n\n                if (this.hasAttribute('autoplay')) this.play();  \n            }\n\n\n\n\n\n\n\n\n            /**\n             * sets up the player for all normal browsers\n             * for crapple based mobile devides see the\n             * createCrapplePlayer method\n             */\n            , createPlayer: function(shaka) {\n                if (this.loadedSources.length === 0) this.log('No video sources! check the sources and their media queries!');\n                else {\n\n                    // create video element\n                    this.video = document.createElement('video');\n                    this.video.setAttribute('width', this.root.offsetWidth);\n                    this.video.setAttribute('height', this.root.offsetHeight);\n                    if (this.getAttribute('controls')) this.video.setAttribute('controls');\n                    if (this.getAttribute('loop')) this.video.setAttribute('loop');\n\n\n                    // add polyfills if possible\n                    if (shaka) shaka.polyfill.installAll();\n\n\n                    // only do dash if shaka is present\n                    if (this.dashSource &&\n                        shaka && \n                        shaka.player.Player.isBrowserSupported() && \n                        shaka.player.Player.isTypeSupported('video/webm; codecs=\"vp9, vorbis\"')) {\n                        \n                        // add the player\n                        this.dashPlayer = new shaka.player.Player(this.video);\n\n                        // get the global or local estimator\n                        if (!window.shakaEstimator) window.shakaEstimator =  new shaka.util.EWMABandwidthEstimator();\n\n                        // add player\n                        this.dashPlayer.load(new shaka.player.DashVideoSource(this.dashSource, null, window.shakaEstimator)).then(function() {\n\n                            // add to dom\n                            this.root.appendChild(this.video);\n\n                            if (this.hasAttribute('autoplay')) this.play();\n                        }.bind(this)).catch(function(err) {\n                            // alert(err);\n\n                            // crap, switch to classic methods\n                            this.dashSource = null;\n\n                            // re-reun\n                            this.createPlayer();\n                        }.bind(this));\n                    }\n                    else {\n                        // html5 video player\n\n                        // add selected sources\n                        this.loadedSources.forEach(function(source) {\n                            if (source.type !== 'application/dash+xml') {\n                                var sourceElement = document.createElement('source');\n                                sourceElement.setAttribute('type', source.type);\n                                sourceElement.setAttribute('src', source.src);\n                                this.video.appendChild(sourceElement);\n                            }\n                        }.bind(this));\n\n                        // add to dom\n                        this.root.appendChild(this.video);\n\n                        // autplay?\n                        if (this.hasAttribute('autoplay')) this.play();\n                    }\n                }\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n            /**\n             * parses all sources, matches them against \n             * the medie query if present.\n             */\n            , prepareSources: function() {\n                Array.prototype.forEach.call(this.children, function(childElement) {\n                    if (childElement.media && window.matchMedia) {\n\n                        if (window.matchMedia(childElement.media) && window.matchMedia(childElement.media).matches) {\n\n                            if (childElement.type === 'application/dash+xml') this.dashSource = childElement.src;\n                            else if (childElement.type === 'video/mp4' && childElement.hasAttribute('data-crapple')) this.crappleSource = childElement.src;\n                            else {\n                                this.loadedSources.push({\n                                      src: childElement.src\n                                    , media: childElement.media\n                                    , type: childElement.type\n                                });\n                            }\n                        }\n                    }\n                    else {\n                        // load this source always!\n\n                        // sort sources\n                        if (childElement.type === 'application/dash+xml') this.dashSource = childElement.src;\n                        else if (childElement.type === 'video/mp4' && childElement.hasAttribute('data-crapple')) this.crappleSource = childElement.src;\n                        else {\n                            this.loadedSources.push({\n                                  src: childElement.src\n                                , media: null\n                                , type: childElement.type\n                            });\n                        }\n                    }\n                }.bind(this));\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n            /**\n             * create a basic ui for the player \n             */\n            , createControls: function() { return;\n                this.playButton = document.createElement('div');\n                this.playButton.setAttribute('style', 'position: relative; bottom: 60px; left: 10px; width: 80px; height: 50px; background: rgba(0, 0, 22, 0.4); z-index: 100;');\n\n                this.root.appendChild(this.playButton);\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n\n            /**\n             * create a basic ui for the player \n             */\n            , createPoster: function() {\n\n            }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n            /** \n             * create the root div that contains everything\n             */\n            , createRoot: function() {\n                this.root = document.createElement('div');\n\n                this.root.addEventListener('click', function() {\n                    if (this.playing) this.pause();\n                    else this.play();\n                }.bind(this));\n\n                // apply styles from this to the video tag\n                this.root.setAttribute('style', this.getAttribute('style'));\n\n                // check if there is a width && height attribute\n                if (this.hasAttribute('width')) this.root.style.width = this.getAttribute('width');\n                if (this.hasAttribute('height')) this.root.style.height = this.getAttribute('height');\n\n                // add to shadow\n                this.sRoot.appendChild(this.root);\n\n                // get computed height\n                this.elementHeight = this.root.offsetHeight;\n                this.elementWidth = this.root.offsetWidth;\n            }\n\n\n\n\n\n\n\n\n\n\n\n            /**\n             * logs stuff to the console  \n             */\n            , log: function() {\n                var args = ['dash-video: '];\n\n                for (var i = 0, l = arguments.length; i < l; i++) args.push(arguments[i]);\n\n                console.log.apply(console, args);\n            }\n        });\n\n\n    \n\n    \n\n        // register in the global namespace\n        document.registerElement('dash-video', {\n            prototype: new Player()\n        });\n    });\n})();\n\ndefine(\"dash-video.js\", function(){});\n\n"],"sourceRoot":"/source/"}